(function(t){function e(e){for(var n,s,o=e[0],c=e[1],l=e[2],h=0,p=[];h<o.length;h++)s=o[h],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},i=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/vue-d3-barchart/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0ade":function(t,e,r){},"1bb3":function(t,e){t.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M18.984 21v-14.016h-10.969v14.016h10.969zM18.984 5.016c1.078 0 2.016 0.891 2.016 1.969v14.016c0 1.078-0.938 2.016-2.016 2.016h-10.969c-1.078 0-2.016-0.938-2.016-2.016v-14.016c0-1.078 0.938-1.969 2.016-1.969h10.969zM15.984 0.984v2.016h-12v14.016h-1.969v-14.016c0-1.078 0.891-2.016 1.969-2.016h12z"/>\n</svg>\n'},"406c":function(t,e,r){},"41c2":function(t,e,r){"use strict";var n=r("ef70"),a=r.n(n);a.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e623"),r("e379"),r("5dc8"),r("37e1");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"header"},[r("div",{staticClass:"title"},[r("h1",[t._v(t._s(t.app.name))])]),r("div",{staticClass:"subtitle"},[r("h2",[t._v(t._s(t.app.des))])])]),r("div",{staticClass:"row"},[r("bar-chart-example")],1),r("div",{staticClass:"footer"},[r("div",{staticClass:"gh"},[r("a",{attrs:{href:t.app.repo}},[r("div",{staticClass:"icon",domProps:{innerHTML:t._s(t.icons.gitHub)}})])])])])},i=[],s=r("b88e"),o=r.n(s),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"example"},[r("div",{staticClass:"charts"},t._l(t.charts,(function(e,n){return r("div",{staticClass:"chart"},[r("div",{staticClass:"title"},[t._v(t._s(e.title||n))]),r("div",{staticClass:"bar-chart"},[r("d3-barchart",{key:n,attrs:{data:e.chartData,options:e.options}})],1),r("textarea",[t._v(t._s(e.options))])])})))])},l=[],u=r("1bb3"),h=r.n(u),p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.bars.length?r("svg",{staticClass:"d3-bar-chart",attrs:{width:t.w,height:t.h}},[t.renderGradient?r("defs",[r("linearGradient",{attrs:{id:t.gradientId,x1:"0",x2:"100%",y1:"0",y2:"0"}},t._l(t.bars,(function(t,e){return r("stop",{key:e,attrs:{offset:t.percentX+"%","stop-color":t.color}})})))],1):t._e(),t.opts.axis.linesY?r("g",{staticClass:"lines"},t._l(t.axisY,(function(e,n){return r("line",{staticClass:"line-y",attrs:{x1:t.margin,x2:t.w,y1:e.y,y2:e.y}})}))):t._e(),t.opts.axis?r("g",{staticClass:"axis"},[r("line",{staticClass:"x-axis",attrs:{x1:t.oXa,x2:t.w,y1:t.hh,y2:t.hh}}),r("line",{staticClass:"y-axis",attrs:{x1:t.oXa,x2:t.oXa,y1:"0",y2:t.hh}}),r("g",{staticClass:"axis-labels"},[t._l(t.axisY,(function(e,n){return[t.opts.axis.valuesY?r("text",{staticClass:"axis-label",attrs:{x:"0",y:e.y}},[t._v(t._s(e.value))]):t._e()]}))],2)]):t._e(),t.opts.curveBack?r("g",{staticClass:"curve-back"},[r("path",{style:t.curveBackStyle,attrs:{d:t.curve(t.opts.curveBack),stroke:t.curveBackStyle.stroke,fill:t.curveBackStyle.fill}})]):t._e(),r("g",{staticClass:"bars"},[t._l(t.bars,(function(e,n){return[t.opts.bars?r("rect",{staticClass:"bar",style:t.barStyle(e),attrs:{width:e.w,height:e.y,x:t.barX(e),y:t.barY(e)},on:{click:function(r){t.barClick(r,e)}}}):t._e()]}))],2),t.opts.curve?r("g",{staticClass:"curve"},[r("path",{style:t.curveStyle,attrs:{d:t.curve(t.opts.curve),stroke:t.curveStyle.stroke,fill:t.curveStyle.fill}})]):t._e(),r("g",{staticClass:"dummies"},[t._l(t.dummyBars,(function(e,n){return[t.opts.tip||t.opts.line?r("rect",{staticClass:"dummy-bar",class:t.opts.bars?"has-bars":"",attrs:{width:e.w,height:t.h,x:t.barX(e),y:"0"},on:{mouseover:function(r){r.preventDefault(),t.startMove(r,e)},mouseleave:function(r){t.stopMove(r,e)},click:function(r){t.barClick(r,e)},touchstart:function(r){t.barClick(r,e)}}}):t._e()]}))],2),t.opts.marks?r("g",{staticClass:"marks"},[t._l(t.bars,(function(e,n){return"square"===t.opts.marks.type?r("rect",{key:n,staticClass:"mark",style:t.markStyle(e),attrs:{x:t.barX(e)+t.barW/2-t.markSize/2,y:t.barY(e)-t.markSize/2,width:t.markSize,height:t.markSize}}):t._e()})),t._l(t.bars,(function(e,n){return"square"!==t.opts.marks.type?r("circle",{key:n,staticClass:"mark",style:t.markStyle(e),attrs:{r:t.markSize/2,cx:t.barX(e)+t.barW/2,cy:t.barY(e)}}):t._e()}))],2):t._e(),t.opts.line?r("g",{directives:[{name:"show",rawName:"v-show",value:t.over,expression:"over"}],staticClass:"chart-line"},[r("line",{staticClass:"line",attrs:{x1:t.lineX,x2:t.lineX,y1:0,y2:t.h-t.margin}})]):t._e(),t.opts.tip&&t.over?r("g",{staticClass:"chart-tip"},[t.opts.tipBack?r("rect",{staticClass:"chart-tip-back",attrs:{x:t.lineX+t.fontSize/2,y:0,width:t.labelW+"ex",height:t.label.length+.25+"em",rx:t.labelW/5,ry:t.label.lenght},on:{touchstart:function(e){t.barClick(t.over)}}}):t._e(),r("text",{staticClass:"label",attrs:{x:t.lineX+t.fontSize,y:"0","font-size":t.fontSize}},t._l(t.label,(function(e,n){return r("tspan",{key:n,staticClass:"label-line",class:e.css,style:e.style,attrs:{x:t.lineX+t.fontSize,dy:"1.2em"}},[t._v(t._s(e.txt))])})))]):t._e()]):t._e()},f=[],v=(r("cb29"),r("a15b"),r("d81d"),r("b64b"),r("d3b7"),r("07ac"),r("e25e"),r("25f0"),r("2909")),d=r("53ca"),m=r("dc56"),b=r("e236"),y=r("0c1a"),g={labels:{x:!1,y:!1},axis:!1,padding:.1,colors:["orangered","lightgreen"],colorInterpol:null,getY:null,getX:null,line:!0,xUnits:"",yUnits:"",domain:{min:null,max:null},marks:{type:"point",size:10,style:null},curve:null,debug:!1,axisTicks:5,bars:{gradient:!1},tip:!0,fontSize:10,tipBack:!0,autoSize:{w:180,h:60}},x=Object.assign({},m,b,y),k={name:"D3-bar-chart",props:{data:{type:Array},options:{type:Object,default:function(){return Object.assign({},g)}}},data:function(){return{w:800,h:500,colorInterpol:null,mouseX:30,mouseOffset:{x:0,y:0},over:!1,getY:Math.abs,gradientId:"svgGradient",colorScale:x.scaleLinear,curveBack:null,curveBackStyle:{},curveStyle:{},formatLabel:function(t,e,r){return["y: "+r(t.yv),"x: "+e(t.xv)]},formatX:function(t){return t},formatY:function(t){return t},opts:Object.assign({},g)}},created:function(){this.init()},mounted:function(){this.onResize()},watch:{options:function(t){this.init(),this.onResize()}},computed:{xMax:function(){return this.getX?x.max(this.xValues)+1:this.dataCount},xMin:function(){return this.getX?x.min(this.xValues):0},isLinear:function(){var t=this.opts,e=t.bars,r=t.marks;return!e&&!r},scaleLinearX:function(){var t=this.xMax,e=this.w,r=this.xMin;return x.scaleLinear().domain([r,t]).range([0,e])},scaleBarsX:function(){var t=this.xMax,e=this.ww,r=this.xMin,n=this.opts.padding;return x.scaleBand().domain(x.range(r,t)).paddingInner(n).rangeRound([0,e])},scaleX:function(){var t=this.scaleLinearX,e=this.scaleBarsX,r=this.isLinear;return r?t:e},scaleY:function(){return x.scaleLinear().domain([this.min,this.max]).rangeRound([0,this.hh])},percentX:function(){return x.scaleLinear().domain([0,this.dataCount-1]).range([0,100])},percentY:function(){return x.scaleLinear().domain([this.min,this.max]).range([0,100])},renderGradient:function(){var t=this.opts.curve,e=this.opts.bars,r=this.opts.curveBack;return e&&e.gradient||t&&t.gradient||r&&r.gradient},colors:function(){var t=this.opts.colorCb;if(t&&"function"===typeof t)return t;var e=function(t){return"red"};if(this.colorInterpol)e=x.scaleSequential().domain([this.max,this.min]).interpolator(this.colorInterpol);else if(this.opts.colors){var r,n=this.opts.colors,a=[this.max,this.min];Array.isArray(n)?r=n:"object"===Object(d["a"])(n)&&(r=Object.values(n),a=Object.keys(n)),e=this.colorScale().domain(a).range(r)}return e},axisY:function(){var t=this.opts.axisTicks;t=t<=this.max?t:this.max;for(var e=[],r=x.scaleLinear().domain([0,t]).rangeRound([this.min,this.max]),n=x.scaleLinear().domain([0,t]).rangeRound([this.hh,0]),a=0;a<=t;a++){var i=r(a);e.push({v:i,value:this.formatY(i),y:n(a)})}return e},bars:function(){var t=this.scaleX,e=this.scaleY,r=this.percentX,n=this.percentY,a=this.colors,i=this.barW;return this.mappedData.map((function(s,o){var c=s.x,l=s.y,u=s.d;return{d:u,xv:c,yv:l,x:t(c),y:e(l),color:a(l,u),percentX:parseInt(r(c)),percentY:parseInt(n(l)),w:i}}))},dummyBars:function(){var t=this.isLinear,e=this.bars;return e=Object(v["a"])(e),t?e.map((function(t,r){t=Object.assign({},t);var n=r>0?e[r-1].x:0,a=r<e.length-1?e[r+1].x:t.x;return t.w=a-n,t})):e},oXa:function(){return this.margin},oX:function(){var t=this.barW;return this.oXa+t/2},oY:function(){return this.margin/2},hh:function(){return this.h-this.oY},ww:function(){return this.w-this.oY},barW:function(){var t=this.scaleX.bandwidth;return"function"===typeof t?t():0},barPad:function(){return this.scaleX.padding()},markSize:function(){return this.opts.marks&&this.opts.marks.size?this.opts.marks.size:this.barW?this.barW/10:5},min:function(){var t=this.opts.domain.min,e=this.yValues;return null===t||void 0===t?x.min(e):t},max:function(){var t=this.opts.domain.max,e=this.yValues;return null===t||void 0===t?x.max(e):t},mappedData:function(){var t=this;return this.data.map((function(e,r){var n=t.getY(e),a=t.getX?t.getX(e):r;return{x:a,y:n,d:e}}))},yValues:function(){return this.mappedData.map((function(t){return t.y}))},xValues:function(){return this.mappedData.map((function(t){return t.x}))},dataCount:function(){return this.mappedData.length},fontSize:function(){return this.opts.fontSize},fontSizeComp:function(){var t=x.max(this.data.map((function(t){return String(t).length})));return this.w/(t*this.data.length*2)},margin:function(){return this.opts.margin||this.h/10},lineX:function(){var t=this.over;return t?t.x+this.margin+t.w/2:0},label:function(){return this.createLabel(this.over)},labelW:function(){var t=x.max(this.label.map((function(t){return t.toString().length})));return t?t+1:0}},methods:{curve:function(t){var e=this,r=this.bars,n=this.barW,a=n/2,i=x.line().x((function(t){return e.barX(t)+a})).y((function(t){return e.barY(t)}));t.type&&i.curve(this.curveType(t.type));var s=i(r);return t.close&&(s+=this.closeCurve()),s},closeCurve:function(){var t=this.bars[0],e=this.bars[this.bars.length-1],r=this.barX(t)+t.w/2,n=this.barX(e)+e.w/2,a=[" L"+n,this.hh,"L"+r,this.hh,"Z"];return a.join(" ")},createLabel:function(t){var e=this.formatLabel(t,this.formatX,this.formatY);return e.map((function(t,e){var r=t.style||{},n=t.css||[];n.push("l-".concat(e));var a=t.txt||t;return{style:r,css:n,txt:a,i:e}}))},init:function(){var t=this.opts,e=this.options;for(var r in e)t[r]=e[r];for(var n=["formatLabel","formatX","formatY"],a=0,i=n;a<i.length;a++){var s=i[a];e[s]&&(this[s]=e[s])}e.marks||(t.marks=null),this.setFucntion("colorInterpol"),this.setFucntion("colorScale");var o=e.getY;o&&"function"===typeof o&&(this.getY=o);var c=e.getX;c&&"function"===typeof c&&(this.getX=c),this.gradientId=this.randomName("svgGrad-");var l=this.opts.curve,u=this.opts.curveBack;u&&(u.type=l.type||null),this.curveStyle=this.gradientStyle("curve"),this.curveBackStyle=this.gradientStyle("curveBack")},setFucntion:function(t,e){var r=this.opts[t];r&&("function"===typeof r?this[t]=r:"function"===typeof x[r]&&(this[t]=x[r]))},onResize:function(){var t,e;this.options.size?(t=this.options.size.w,e=this.options.size.h):(t=this.$el.clientWidth,e=this.$el.clientHeight),this.w=t>0?t:this.opts.autoSize.w,this.h=e>0?e:this.opts.autoSize.h},gradientStyle:function(t){var e={},r=this.opts[t];if(r){e=r.style||{};var n="url(#"+this.gradientId+")";r.gradient&&(r.gradient.stroke&&(e.stroke=n),r.gradient.fill&&(e.fill=n))}return e},barX:function(t){var e=t.x;return e+=this.margin,e},barY:function(t){var e=this.h-t.y-this.margin/2;return e},txtX:function(t){return t.x+t.w/2-String(t.x).length*this.fontSize/2+this.margin},barStyle:function(t){var e=this.gradientStyle("bars");return e.fill||(e.fill=this.opts.colors?t.color:""),e},markStyle:function(t){return this.opts.marks.style||this.barStyle(t)},curveType:function(t){if(t){if("function"===typeof t)return t;var e=x["curve"+t];if("function"===typeof e)return e;if(e=x[t],"function"===typeof e)return e}return x.curveMonotoneX},startMove:function(t,e){var r=0,n=0;t&&e&&(r=t.pageX-this.barX(e),n=t.pageY-this.barY(e)),this.mouseOffset={x:r,y:n},this.over=e},moveLine:function(t){this.mouseX=t.pageX-this.mouseOffset.x},stopMove:function(t,e){this.over=!1},randomName:function(t){var e=t||"";return e+=Math.random().toString(36).substring(7),e},barClick:function(t,e){this.over=this.over!==e&&e,this.$emit("barClick",{bar:e,event:t})}}},X=k,w=(r("fc2d"),r("2877")),C=Object(w["a"])(X,p,f,!1,null,null,null),S=C.exports,_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{v:t,d:e}},Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return Math.floor(Math.random()*e)+t},z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{q:30,f:1,t:20},e=t.q,r=t.f,n=t.t;return Object(v["a"])(Array(e)).map((function(){return _(Y(r,n))}))},O=function(t){var e=t.title,r=t.chartData,n=t.options,a=t.controls;return e=e||"example",r=r||z(),n=n||g,n=n.getY?n:Object.assign(n,{getY:function(t){return t.v}}),{title:e,chartData:r,options:n,controls:a}},B=r("bb57"),j="Bars",M={marks:!1,axis:!0,margin:0,domain:{min:0},colors:[B.red,B.yellow]},L=O({title:j,options:M}),D="Curve",I={marks:!1,bars:!1,axis:{valuesY:!0,linesY:!0,linesX:!0,valuesX:!0},curve:{type:"monotoneX",stroke:B.red,style:{stroke:B.color,"stroke-width":2,size:1}},curveBack:{close:!0,style:{stroke:"none",opacity:.5},gradient:{stroke:!1,fill:!0}},domain:{min:0},colors:[B.color]},W={marks:{type:"checkbox"}},P=O({title:D,options:I,controls:W}),T="Points",R={marks:{type:"point",size:10,color:"red"},bars:!1,axis:{valuesY:!0,linesY:!0,linesX:!0,valuesX:!0},domain:{min:0},colors:[B.red,B.color]},V={marks:{type:"checkbox"}},$=O({title:T,options:R,controls:V}),G="Curve with points",q={marks:{type:"circle",size:9},bars:!1,axis:{valuesY:!0,linesY:!0,linesX:!0,valuesX:!0},curve:{style:{stroke:B.red,"stroke-width":2,opacity:.5}},domain:{min:0},colors:[B.red]},A={marks:{type:"checkbox"}},E=O({title:G,options:q,controls:A}),H="Curve Gradient",N={marks:!1,bars:!1,axis:{valuesY:!0,linesY:!0,linesX:!0,valuesX:!0},curve:{type:"Bundle",style:{stroke:"none"}},curveBack:{close:!0,style:{stroke:"none",opacity:.5},gradient:{stroke:!1,fill:!0}},domain:{min:0},colors:[B.red,B.yellow],colorScale:"Linear"},F={marks:{type:"checkbox"}},J=O({title:H,options:N,controls:F}),U="Bars",Z=[2,7,10,11,12,14,15,21,30,31,39,50].map((function(t){var e=Y(1,30);return{x:t,y:e}})),K={marks:!1,axis:{valuesY:!0,linesY:!0,linesX:!0,valuesX:!0},margin:0,domain:{min:0},getX:function(t){return t.x},getY:function(t){return t.y},colors:[B.red,B.blue]},Q=O({title:U,options:K,chartData:Z}),tt={name:"bar-chart-example",components:{d3Barchart:S},data:function(){return{copyIcon:h.a,charts:{bars:L,curve:P,points:$,curvePoints:E,curveColors:J,bars2:Q}}}},et=tt,rt=(r("a76e"),Object(w["a"])(et,c,l,!1,null,null,null)),nt=rt.exports,at={name:"example",components:{BarChartExample:nt},data:function(){return{icons:{gitHub:o.a},app:Object({name:"vue-d3-barchart",des:"Vue component to draw bar charts using d3 ",version:"0.0.26",repo:"https://github.com/emiliorizzo/vue-d3-barchart"})}}},it=at,st=(r("41c2"),Object(w["a"])(it,a,i,!1,null,null,null)),ot=st.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(ot)}}).$mount("#app")},a76e:function(t,e,r){"use strict";var n=r("0ade"),a=r.n(n);a.a},b88e:function(t,e){t.exports='<svg height="128" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="128" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>'},bb57:function(t){t.exports=JSON.parse('{"red":"#D2134B","green":"#116e5e","blue":"#106a87","yellow":"#f8d139","cyan":"","magenta":"","color":"#2D8685","color2":"#caa455"}')},ef70:function(t,e,r){},fc2d:function(t,e,r){"use strict";var n=r("406c"),a=r.n(n);a.a}});
//# sourceMappingURL=app.3c0fed29.js.map